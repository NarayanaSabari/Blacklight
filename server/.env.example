# =============================================================================
# Blacklight Backend Environment Configuration (Example)
# =============================================================================
# Copy this file to `.env` and update values before running.

# -----------------------------------------------------------------------------
# Core Application Settings
# -----------------------------------------------------------------------------
ENVIRONMENT=development
SECRET_KEY=change-me-to-a-secure-random-string

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/blacklight
SQLALCHEMY_ECHO=False
SQLALCHEMY_ENGINE_OPTIONS_POOL_SIZE=10
SQLALCHEMY_ENGINE_OPTIONS_POOL_RECYCLE=3600
SQLALCHEMY_ENGINE_OPTIONS_POOL_PRE_PING=True

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_URL=redis://localhost:6379/1

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=5000
WORKERS=4
WORKER_CLASS=sync
WORKER_CONNECTIONS=1000

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=DEBUG
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
CORS_ORIGINS=*
CORS_ALLOW_HEADERS=*
CORS_EXPOSE_HEADERS=*
CORS_SUPPORTS_CREDENTIALS=True

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
ALLOWED_HOSTS=localhost,127.0.0.1
SECURE_HEADERS=True

# -----------------------------------------------------------------------------
# AI/Resume Parsing Configuration
# -----------------------------------------------------------------------------
# Provider: 'gemini' (recommended) or 'openai'
AI_PARSING_PROVIDER=gemini

# Google Gemini API (get from https://makersuite.google.com/app/apikey)
GOOGLE_API_KEY=YOUR_GOOGLE_API_KEY
GEMINI_MODEL=gemini-2.5-flash
GEMINI_EMBEDDING_MODEL=gemini-embedding-001
GEMINI_EMBEDDING_DIMENSION=768

# OpenAI API (optional, if using AI_PARSING_PROVIDER=openai)
# OPENAI_API_KEY=YOUR_OPENAI_API_KEY

# -----------------------------------------------------------------------------
# File Storage Configuration
# -----------------------------------------------------------------------------
# Backend: 'local' for development, 'gcs' for production
STORAGE_BACKEND=local
STORAGE_LOCAL_PATH=./storage/uploads

# Google Cloud Storage (when STORAGE_BACKEND=gcs)
GCS_BUCKET_NAME=your_bucket_name
GCS_PROJECT_ID=your_project_id
GCS_CREDENTIALS_PATH=/path/to/credentials.json
# Alternative: Use inline JSON
# GCS_CREDENTIALS_JSON={"type": "service_account", ...}

# File Limits
MAX_FILE_SIZE_MB=10
ALLOWED_DOCUMENT_TYPES=pdf,doc,docx,jpg,jpeg,png
SIGNED_URL_EXPIRY_SECONDS=3600

# -----------------------------------------------------------------------------
# SMTP Email Configuration
# -----------------------------------------------------------------------------
SMTP_ENABLED=true
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@example.com
SMTP_PASSWORD=your_smtp_app_password
SMTP_USE_TLS=true
SMTP_FROM_EMAIL=your_email@example.com
SMTP_FROM_NAME=BlackLight Company HR

# -----------------------------------------------------------------------------
# Frontend URLs
# -----------------------------------------------------------------------------
FRONTEND_BASE_URL=http://localhost:5174

# -----------------------------------------------------------------------------
# Inngest (Background Jobs)
# -----------------------------------------------------------------------------
INNGEST_DEV=true
INNGEST_BASE_URL=http://localhost:8288
INNGEST_SERVE_HOST=http://localhost:5000
INNGEST_SERVE_PATH=/api/inngest
INNGEST_EVENT_KEY=
INNGEST_SIGNING_KEY=

# -----------------------------------------------------------------------------
# PM Admin Seed (Optional - used when running `python manage.py seed-pm-admin`)
# -----------------------------------------------------------------------------
# DEFAULT_PM_ADMIN_EMAIL=admin@blacklight.com
# DEFAULT_PM_ADMIN_PASSWORD=Admin@123

# -----------------------------------------------------------------------------
# Email Integration (Gmail/Outlook OAuth)
# -----------------------------------------------------------------------------
# Token Encryption Key (generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())")
TOKEN_ENCRYPTION_KEY=

# Google OAuth (Gmail) - Get from https://console.cloud.google.com/apis/credentials
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:5001/api/integrations/email/callback/gmail

# Microsoft OAuth (Outlook) - Get from https://portal.azure.com/
MICROSOFT_OAUTH_CLIENT_ID=
MICROSOFT_OAUTH_CLIENT_SECRET=
MICROSOFT_OAUTH_REDIRECT_URI=http://localhost:5001/api/integrations/email/callback/outlook
MICROSOFT_OAUTH_TENANT=common

# Email Sync Settings
EMAIL_SYNC_ENABLED=true
EMAIL_SYNC_FREQUENCY_MINUTES=15
EMAIL_SYNC_LOOKBACK_DAYS=7
EMAIL_SYNC_MAX_EMAILS_PER_BATCH=50